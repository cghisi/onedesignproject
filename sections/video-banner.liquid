{{ 'section-video-banner.css' | asset_url | stylesheet_tag }}

<section class="hero-wrapper">
  {% if section.settings.video_link.media_type == 'video' %} 
    <div class="hero-content hero-content--{{ section.settings.desktop_content_position }}">
      <div>
        <h1 class="hero-content__title h1 hero-title-active">{{ section.settings.heading }}</h1>
        {%- if section.settings.button_label != blank and section.settings.button_link != blank -%}
            {% assign background_color = section.settings.background %}
            {% assign btn_bg_color = section.settings.bg_button %}
            {% assign btn_text_color = section.settings.color_button %}
            {% assign text_color = section.settings.color_text %}
    
            <div>
            <a href="{{ section.settings.button_link }}" class="hero-content-link  hero-link-active" style="background-color: {{ btn_bg_color }}; color: {{ btn_text_color }}">
              {{ section.settings.button_label | escape }}
            </a>
            </div>
          {%- endif -%}
        </div>
    </div>
    <div class="hero--video-html">
      {{ section.settings.video_link | video_tag: autoplay: true, loop: true, muted: true, controls: false , preload : true}}
    </div> 
  {% endif %}
</section>

{% schema %}
{
  "name": "Video Banner",
  "class": "index-section index-section--video-banner",
  "settings": [
    {
      "type": "video",
      "id": "video_link",
      "label": {
        "en": "Video Link",
        "fr": "Lien de la video"
      }
    },
    {
      "type": "select",
      "id": "desktop_content_position",
      "options": [
        {
          "value": "top-left",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__1.label"
        },
        {
          "value": "top-center",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__2.label"
        },
        {
          "value": "top-right",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__3.label"
        },
        {
          "value": "middle-left",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__4.label"
        },
        {
          "value": "middle-center",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__5.label"
        },
        {
          "value": "middle-right",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__6.label"
        },
        {
          "value": "bottom-left",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__7.label"
        },
        {
          "value": "bottom-center",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__8.label"
        },
        {
          "value": "bottom-right",
          "label": "t:sections.image-banner.settings.desktop_content_position.options__9.label"
        }
      ],
      "default": "middle-center",
      "label": "t:sections.image-banner.settings.desktop_content_position.label"
    },
    {
      "type": "select",
      "id": "desktop_content_alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "t:sections.image-banner.settings.desktop_content_alignment.options__2.label"
        },
        {
          "value": "right",
          "label": "t:sections.image-banner.settings.desktop_content_alignment.options__3.label"
        }
      ],
      "default": "center",
      "label": "t:sections.image-banner.settings.desktop_content_alignment.label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": {
        "en": "Heading",
        "fr": "En tete"
      }
    },
    {
      "type": "color",
      "id": "color_text",
      "label": "Text Color"
    },
    {
        "type": "color",
        "id": "bg_button",
        "label": "Button Background Color"
    },
    {
        "type": "color",
        "id": "color_button",
        "label": "Button Text Color"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": {
        "en": "Button label",
        "fr": "Label du bouton"
      }
    },
    {
      "type": "url",
      "id": "button_link",
      "label": {
        "en": "Button link",
        "fr": "Lien"
      }
    }
  ],
  "presets": [
  {
    "name": {
      "en": "Video Banner",
      "fr": "Banniere Video"
    },
    "category": {
      "en": "Video",
      "fr": "Video"
    }
  }
]
}
{% endschema %}